<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Impostazione di salvataggio</title>
<link href='../../std/css/attesaRegistra.css' type='text/css' rel='stylesheet'>
<link href='../../std/css/calendario/calendarview.css' type='text/css' rel='stylesheet'>
<link href='../../std/css/dataEntryTable.css' type='text/css' rel='stylesheet'>
<link href='../../std/css/dataTable.css' type='text/css' rel='stylesheet'>
<link href='../../std/css/headerTable.css' type='text/css' rel='stylesheet'>
<link href='../../std/css/normalBody.css' type='text/css' rel='stylesheet'>
<link href='../../std/css/tabulatore.css' type='text/css' rel='stylesheet'>
<link href='../../std/css/headerTable.css' type='text/css' rel='stylesheet'>
<link href='../../std/css/normalBody.css' type='text/css' rel='stylesheet'>
<link href='../../std/css/button.css' type='text/css' rel='stylesheet'>
<script type='text/javascript' src='../../std/jscript/engine/prototype.js' language='JavaScript'></script>

<link href='../../std/css/calendario/calendarview.css' type='text/css' rel='stylesheet'>
<script type='text/javascript' src='../../std/jscript/calendario/calendarview.js' language='JavaScript'></script>

<script type='text/javascript' src='../../std/jscript/orologio/orologio.js' language='JavaScript'></script>

</head>

<body onload="init();">
<table cellpadding='0' cellspacing='0' class='classTabHeader' width="100%"  >
      <tr>
        <td class='classTabHeaderSx'></td>
        <td class='classTabHeaderMiddle'>Impostare criteri di periodo</td>
        <td class='classTabHeaderDx'></td>
  </tr>
        </table>
<table width="100%" border="1" cellspacing="0" cellpadding="0">
  <tr>
  	<td class='classTdLabelNoWidth' width="33%">Descrizione</td>
  	<td class='classTdLabelNoWidth'  width="67%" colspan="2">
    	<textarea cols="60" id="txtDescrizione" rows=2></textarea>
    </td>
  </tr>
  <tr>
   <td class='classTdLabel'><label><input type="checkbox" id="chkPaziente"/>per paziente</label></td>
   <td class='classTdLabel'><label><input type="checkbox" id="chkUtente"/>per utente</label></td>
   <td class='classTdLabel'><label><input type="checkbox" id="chkReparto"/>per reparto</label></td>
  </tr>   
</table>
<table cellpadding='0' cellspacing='0' class='classTabHeader' width="100%" >
       <tr>
        <td class='classTabFooterSx'>&nbsp;</td>     
        <td class='classTabHeaderMiddle'>&nbsp;</td> 
        <td id=tdOK class='classButtonHeader'><div class='pulsante'><a onclick='closeModal();'>OK</a></div></td>
        <td id=tdChiudi class='classButtonHeader'><div class='pulsante'><a onclick='self.close ();'>Annulla</a></div></td>            
        <td class='classTabFooterDx'>&nbsp;</td>
      </tr>
</table>
</body>
<script>
var ordine='1';

function init(){
	
	document.all.chkPaziente.checked  = window.dialogArguments.iden_anag;
	document.all.chkUtente.checked    = window.dialogArguments.iden_ute;
	document.all.chkReparto.checked   = window.dialogArguments.codice_reparto;
	
	document.all.txtDescrizione.innerText = window.dialogArguments.descrizione;
	

}
function closeModal(){

	if (document.all.txtDescrizione.innerText=='')
	{
		alert('Inserire una descrizione valida');
		return;
	}
	if (document.all.txtDescrizione.innerText.lenght>100)
	{
		alert('Descrizione pi√π lunga dei limiti previsti, ridurre a 100 caratteri');
		return;
	}
	if (!document.all.chkPaziente.checked && !document.all.chkUtente.checked && !document.all.chkReparto.checked)
	{
		alert('Indicare almeno un criterio di salvataggio');
		return;
	}

	window.dialogArguments.iden_anag     = document.all.chkPaziente.checked;
	window.dialogArguments.iden_ute      = document.all.chkUtente.checked;
	window.dialogArguments.codice_reparto= document.all.chkReparto.checked;
	
	window.dialogArguments.descrizione   = document.all.txtDescrizione.innerText;

	window.dialogArguments.save          = 'S';
	
	self.close();
}
</script>
</html>
