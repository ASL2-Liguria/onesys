<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!--<link href='../std/css/attesaRegistra.css' type='text/css' rel='stylesheet'>-->
<!-- <link href='../std/css/dataEntryTable.css' type='text/css' rel='stylesheet'>-->
<!-- <link href='../std/css/dataTable.css' type='text/css' rel='stylesheet'>  -->
<link href='../std/css/headerTable.css' type='text/css' rel='stylesheet'>
	<link href='../std/css/normalBody.css' type='text/css' rel='stylesheet'>
		<!--<link href='../std/css/tabulatore.css' type='text/css' rel='stylesheet'>-->
		<link href='../std/css/button.css' type='text/css' rel='stylesheet'>
			<!--<script type='text/javascript' src='../std/jscript/engine/toolkit_pagina.js' language='JavaScript'></script>-->

			<title></title>
</head>

<body>
	<div style="width: 100%;">
		<label><strong>Dosaggio:</strong></label>
		<input type="text" style="WIDTH: 100%" id=txt_dosaggio />
	</div>

	<table cellpadding='0' cellspacing='0' class='classTabHeader'
		width="100%">
		<tr>
			<td class='classTabFooterSx'>&nbsp;</td>
			<td class='classTabHeaderMiddle'>&nbsp;</td>
			<td id=tdOK class='classButtonHeader'><div class='pulsante'>
					<a onclick='closeModal();'>OK</a>
				</div>
			</td>
			<td id=tdChiudi class='classButtonHeader'><div class='pulsante'>
					<a onclick='self.close ();'>Annulla</a>
				</div>
			</td>
			<td class='classTabFooterDx'>&nbsp;</td>
		</tr>
	</table>
</body>

<script>
if(dialogArguments!=null){
	document.all.txt_dosaggio.value= dialogArguments[0];
}

function closeModal()
{
	resp = new Object();
	
	try{
		
		var value = eval(document.getElementById('txt_dosaggio').value);

		if(!isNumber(""+value+"")){
			return alert('Inserire un valore numerico o riconducibile ad un numero');
		}
		
	}catch(e){
		return alert('Inserire un valore numerico o riconducibile ad un numero');
	}
	
	resp.text = document.getElementById('txt_dosaggio').value;
	
	window.returnValue = resp;
	
	self.close();	
}

function isNumber(value){

		var sText =  value.replace(',','.');

		var ValidChars = "0123456789.-";var IsNumber=true;var Char;
		for (i = 0; i < sText.length && IsNumber == true; i++){ 
			  Char = sText.charAt(i); 
			if (ValidChars.indexOf(Char) == -1){alert(ValidChars.indexOf(Char));IsNumber = false;}
		}
			
		return IsNumber;		   
}

</script>



</html>
